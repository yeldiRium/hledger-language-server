{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.10.7/.schema/devbox.schema.json",
  "packages": [
    "go@latest",
    "wget@latest"
  ],
  "shell": {
    "scripts": {
      "make:diagrams": [
        "mkdir -p parser/diagrams",
        "go run cmd/parser-diagram/main.go | go run github.com/alecthomas/participle/v2/cmd/railroad > parser/diagrams/index.html"
      ],
      "make:diagrams:assets": [
        "wget https://raw.githubusercontent.com/alecthomas/participle/refs/heads/master/cmd/railroad/assets/railroad-diagrams.js -O parser/diagrams/railroad-diagrams.js",
        "wget https://raw.githubusercontent.com/alecthomas/participle/refs/heads/master/cmd/railroad/assets/railroad-diagrams.css -O parser/diagrams/railroad-diagrams.css"
      ]
    }
  }
}
